<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="mnml.css" type="text/css" />
</head>
<body>
<h1 id="counting-necklaces">Counting Necklaces</h1>
<p>2015-05-13</p>
<p>Today we'll discuss a cute proof of Fermat's little theorem. If you recall, Fermat's little theorem states that if <span class="math inline"><em>p</em></span> is a prime, then</p>
<p><br /><span class="math display"><em>a</em><sup><em>p</em></sup> ≡ <em>a</em>mod<em>p</em></span><br /></p>
<p>This is equivalent to saying <span class="math inline"><em>a</em><sup><em>p</em></sup> − <em>a</em> ≡ 0mod<em>p</em></span> or that <span class="math inline"><em>p</em> ∣ <em>a</em><sup><em>p</em></sup> − <em>a</em></span>. This last statement is the one that we'll latch onto.</p>
<p>Suppose we had a collection of <span class="math inline"><em>a</em></span> differently colored beads and we want to make necklaces of length <span class="math inline"><em>p</em></span>. (Maybe you have weird friends who will only wear prime-length necklaces, I don't know. They're your friends.)</p>
<p>So we start by choosing a color for the first bead, then a color for the second and so on. We have <span class="math inline"><em>a</em><sup><em>p</em></sup></span> different ways to do this. Let's say that we go ahead and make all <span class="math inline"><em>a</em><sup><em>p</em></sup></span> possible necklaces. Once we're done, we connect the ends together.</p>
<p>We can divide the necklaces into two different groups: some of the necklaces use only one color, some use more than one. Since there are only <span class="math inline"><em>a</em></span> colors, we have <span class="math inline"><em>a</em></span> necklaces of one color and <span class="math inline"><em>a</em><sup><em>p</em></sup> − <em>a</em></span> necklaces of more than one color.</p>
<p>Now that we've connected the ends together, some necklaces that were previously different are now the same, as they're simply rotations of each other. These form little equivalence classes.</p>
<p>So how big are these equivalence classes? Here's a claim:</p>
<p>If we have a string <span class="math inline"><em>S</em></span> that is composed of repetitions of some smaller string <span class="math inline"><em>T</em></span>, then the size of <span class="math inline"><em>S</em></span>'s equivalence class is the length of <span class="math inline"><em>T</em></span>.</p>
<p>Here's an example - suppose <span class="math inline"><em>S</em></span> is the string AABAABAAB (composed of three AAB's). Then the first three rotations</p>
<p>{% highlight python %} AABAABAAB -&gt; BAABAABAA -&gt; AABAABAAB {% endhighlight %}</p>
<p>get us back to where we started.</p>
<p>But... (and this is my favorite part) the necklaces we made are of prime length! So there can't possibly be any shorter substring repetition, as otherwise, the length of the substring <span class="math inline"><em>T</em></span> would divide the length of our necklaces. So then each equivalence class has size <span class="math inline"><em>p</em></span>.</p>
<p>Since each multicolored necklace is in exactly one equivalence class (and they're all of size <span class="math inline"><em>p</em></span>), if there are <span class="math inline"><em>k</em></span> equivalence classes, then the number of multicolored necklaces is <span class="math inline"><em>k</em><em>p</em></span>. Or equivalently, <span class="math inline"><em>p</em> ∣ <em>a</em><sup><em>p</em></sup> − <em>a</em></span>.</p>
<p>Cute, right? I really like how succinctly you can summarize the proof: &quot;count necklaces.&quot; So if you're ever put on the spot being asked to prove Fermat's little theorem, just recall that phrase and you should be able to work it out from there :)</p>
</body>
</html>
